### 一
#### 1.数据库的复制功能有哪些好处
* 高可用、读写分离
#### 2.在数据需要强一致性下如何选择数据同步机制
* 同步复制
#### 3.如果在写入量比较大时，如何选择数据库的架构模式
* 双主模式，互为主从
#### 4.微服务的拆分时机
* 有快速迭代的需求
* 提交代码经常出现冲突
* 小功能要积累到大版本才能上线
* 横向扩展流程复杂
* 熔断降级全靠if else
* 通过不断加机器已经无法提高系统的并发
#### 5.微服务相对于单体架构有什么有点和缺点
* 优点：单一职责、服务间低耦合，服务内高内聚，每个服务可以独立运行并对外提供服务，可独立部署，并可以进行动态扩展，一个服务出现故障不会影响其他服务
团队，每个团队可专注于一块业务。服务可跨语言，通过轻量级通信进行交互
* 缺点：分布式事务问题，运维成本高，分布式系统复杂性，接口管理
#### 6.部门的微服务架构，为什么没用springcloud
* 实际的业务情况
#### 7.有20W个商铺，每个商铺都有配送范围，输入一个坐标，返回配送在配送范围内的商铺
* 第一种:geodist计算用户和商品的位置，取绝对值，在配送范围内的显示出来
* 第二种：用georadis计算距离用户1km内的商家，然后看这些商家是否满足配送范围
#### 8.LRU实现
* Hashmap+linklist
* hashmap用于快速定位key在链表的位置，不用去遍历链表
#### 9.ES的分页原理
滚动查询，scollid
#### 10.设计一个RPC框架需要哪些组件，除了外部能看到的内部还有哪些
网络通信框架、序列化框架
#### 11.RPC远程调用过程
#### 12.平时如何提升自己的
#### 13.离职原因

### 二
#### 1.简单介绍一下项目
#### 2.MQ的可靠性消息投递
* 消息落库+定时轮询消息重发+短信提醒+系统的提醒功能+统计功能+人工补偿
#### 3.消息的重复消费问题
* 数据库的update乐观锁
#### 4.短信平台和短信提供商数据一致性问题
#### 5.短信QPS
#### 6.短信发送的成功率有统计过吗
#### 7.如果数据库是主从架构，有延迟问题，是否会发生重复消费的问题
#### 8.延时消息有哪些实现的方法
rabbitmq死信队列、延迟插件、redis的zset
#### 9.ES的应用场景
#### 10.ES是如何保证近实时查询的
* 数据先写入内存buffer，然后每隔1s，将数据refresh到 os cache，然后执行fsync同步到segment中，到了 os cache数据就能被搜索到（所以我们才说es从写入到能被搜索到，中间有1s的延迟）。
每隔5s，将数据写入到translog文件（这样如果机器宕机，内存数据全没，最多会有5s的数据丢失），translog达到一定程度，或者默认每隔30min，会触发commit操作，将缓冲区的数据都flush到segment file磁盘文件中。数据写入 segment file之后，同时就建立好了倒排索引。
#### 11.mysql和es数据是如何同步的
#### 12.logstash可以做到数据的实时同步吗
* 可以1s同步一次
#### 13.骑手每隔10s、15s上传一次坐标，如何获取指定范围的坐标（棋手轨迹）
* zset
#### 14.微服务的限流、降级、熔断对应的场景，结合公司项目讲一下
